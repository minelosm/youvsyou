import{s as ft,n as $,c as J,r as ht,a as _t}from"../chunks/scheduler.CMRjZhAU.js";import{S as pt,i as vt,m as S,g as M,d as _,e as m,s as D,t as N,c as b,a as A,k as x,f as E,b as z,l as T,h as n,n as nt,o as it,p as mt,j,q as bt}from"../chunks/index.Bmlb73Os.js";import{e as ot}from"../chunks/each.D6YF6ztN.js";import{j as gt,m as rt,i as Ct,a as Z}from"../chunks/store.CE-QidRb.js";import{p as Tt}from"../chunks/stores.NgZa7qOG.js";import"../chunks/entry.C4GlJ1bY.js";function ct(u,t,e){const s=u.slice();return s[11]=t[e],s}function ut(u){let t,e,s="Account Balance",f,i,o,d,C='<i class="fa-solid fa-coins"></i>',p,v=u[1].balance+"",r,c,h,a,l="Add Balance",B,y,H,tt="Amount",K,I,w,Q,P,et='<i class="fa-solid fa-coins"></i>',W,V,at='<div class="control"><button class="button is-warning"><span class="icon"><i class="fa-solid fa-cart-plus"></i></span> <span>Add Balance</span></button></div>',O,q,X,lt;function st(g,k){return g[1].transactions.length>0?Dt:kt}let U=st(u),L=U(u);return{c(){t=m("div"),e=m("p"),e.textContent=s,f=D(),i=m("p"),o=N(`Current Balance:\r
        `),d=m("span"),d.innerHTML=C,p=D(),r=N(v),c=D(),h=m("form"),a=m("h3"),a.textContent=l,B=D(),y=m("div"),H=m("label"),H.textContent=tt,K=D(),I=m("div"),w=m("input"),Q=D(),P=m("span"),P.innerHTML=et,W=D(),V=m("div"),V.innerHTML=at,O=D(),L.c(),q=S(),this.h()},l(g){t=b(g,"DIV",{class:!0});var k=A(t);e=b(k,"P",{class:!0,"data-svelte-h":!0}),x(e)!=="svelte-grtzps"&&(e.textContent=s),f=E(k),i=b(k,"P",{class:!0});var R=A(i);o=z(R,`Current Balance:\r
        `),d=b(R,"SPAN",{class:!0,"data-svelte-h":!0}),x(d)!=="svelte-1x38xhd"&&(d.innerHTML=C),p=E(R),r=z(R,v),R.forEach(_),k.forEach(_),c=E(g),h=b(g,"FORM",{class:!0});var F=A(h);a=b(F,"H3",{class:!0,"data-svelte-h":!0}),x(a)!=="svelte-pdjolm"&&(a.textContent=l),B=E(F),y=b(F,"DIV",{class:!0});var Y=A(y);H=b(Y,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),x(H)!=="svelte-1w27gc9"&&(H.textContent=tt),K=E(Y),I=b(Y,"DIV",{class:!0});var G=A(I);w=b(G,"INPUT",{class:!0,type:!0}),Q=E(G),P=b(G,"SPAN",{class:!0,"data-svelte-h":!0}),x(P)!=="svelte-xrzxxv"&&(P.innerHTML=et),G.forEach(_),Y.forEach(_),W=E(F),V=b(F,"DIV",{class:!0,"data-svelte-h":!0}),x(V)!=="svelte-gidr5l"&&(V.innerHTML=at),F.forEach(_),O=E(g),L.l(g),q=S(),this.h()},h(){T(e,"class","title is-1"),T(d,"class","icon"),T(i,"class","subtitle is-3"),T(t,"class","box has-background-warning"),T(a,"class","title is-3"),T(H,"class","label"),T(H,"for","balance"),T(w,"class","input"),T(w,"type","integer"),T(P,"class","icon is-small is-left"),T(I,"class","control has-icons-left has-icons-right"),T(y,"class","field"),T(V,"class","field is-grouped"),T(h,"class","box")},m(g,k){M(g,t,k),n(t,e),n(t,f),n(t,i),n(i,o),n(i,d),n(i,p),n(i,r),M(g,c,k),M(g,h,k),n(h,a),n(h,B),n(h,y),n(y,H),n(y,K),n(y,I),n(I,w),nt(w,u[0]),n(I,Q),n(I,P),n(h,W),n(h,V),M(g,O,k),L.m(g,k),M(g,q,k),X||(lt=[it(w,"input",u[5]),it(h,"submit",mt(u[3]))],X=!0)},p(g,k){k&2&&v!==(v=g[1].balance+"")&&j(r,v),k&1&&nt(w,g[0]),U===(U=st(g))&&L?L.p(g,k):(L.d(1),L=U(g),L&&(L.c(),L.m(q.parentNode,q)))},d(g){g&&(_(t),_(c),_(h),_(O),_(q)),L.d(g),X=!1,ht(lt)}}}function kt(u){let t,e="<p>No transactions found.</p>";return{c(){t=m("div"),t.innerHTML=e,this.h()},l(s){t=b(s,"DIV",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-1osut9d"&&(t.innerHTML=e),this.h()},h(){T(t,"class","box")},m(s,f){M(s,t,f)},p:$,d(s){s&&_(t)}}}function Dt(u){let t,e,s="Transaction History",f,i,o,d="<tr><th>Date</th> <th>Amount</th> <th>Description</th></tr>",C,p,v=ot(u[1].transactions),r=[];for(let c=0;c<v.length;c+=1)r[c]=dt(ct(u,v,c));return{c(){t=m("div"),e=m("h3"),e.textContent=s,f=D(),i=m("table"),o=m("thead"),o.innerHTML=d,C=D(),p=m("tbody");for(let c=0;c<r.length;c+=1)r[c].c();this.h()},l(c){t=b(c,"DIV",{class:!0});var h=A(t);e=b(h,"H3",{class:!0,"data-svelte-h":!0}),x(e)!=="svelte-16zls4x"&&(e.textContent=s),f=E(h),i=b(h,"TABLE",{class:!0});var a=A(i);o=b(a,"THEAD",{"data-svelte-h":!0}),x(o)!=="svelte-1qhqgem"&&(o.innerHTML=d),C=E(a),p=b(a,"TBODY",{});var l=A(p);for(let B=0;B<r.length;B+=1)r[B].l(l);l.forEach(_),a.forEach(_),h.forEach(_),this.h()},h(){T(e,"class","title is-3"),T(i,"class","table is-fullwidth"),T(t,"class","box")},m(c,h){M(c,t,h),n(t,e),n(t,f),n(t,i),n(i,o),n(i,C),n(i,p);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(p,null)},p(c,h){if(h&2){v=ot(c[1].transactions);let a;for(a=0;a<v.length;a+=1){const l=ct(c,v,a);r[a]?r[a].p(l,h):(r[a]=dt(l),r[a].c(),r[a].m(p,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=v.length}},d(c){c&&_(t),bt(r,c)}}}function Et(u){let t,e,s=u[11].transactionDate+"",f,i,o,d=u[11].amount+"",C,p,v,r=u[11].description+"",c,h;return{c(){t=m("tr"),e=m("td"),f=N(s),i=D(),o=m("td"),C=N(d),p=D(),v=m("td"),c=N(r),h=D(),this.h()},l(a){t=b(a,"TR",{class:!0});var l=A(t);e=b(l,"TD",{});var B=A(e);f=z(B,s),B.forEach(_),i=E(l),o=b(l,"TD",{});var y=A(o);C=z(y,d),y.forEach(_),p=E(l),v=b(l,"TD",{});var H=A(v);c=z(H,r),H.forEach(_),h=E(l),l.forEach(_),this.h()},h(){T(t,"class","is-success is-light")},m(a,l){M(a,t,l),n(t,e),n(e,f),n(t,i),n(t,o),n(o,C),n(t,p),n(t,v),n(v,c),n(t,h)},p(a,l){l&2&&s!==(s=a[11].transactionDate+"")&&j(f,s),l&2&&d!==(d=a[11].amount+"")&&j(C,d),l&2&&r!==(r=a[11].description+"")&&j(c,r)},d(a){a&&_(t)}}}function At(u){let t,e,s=u[11].transactionDate+"",f,i,o,d=u[11].amount+"",C,p,v,r=u[11].description+"",c,h;return{c(){t=m("tr"),e=m("td"),f=N(s),i=D(),o=m("td"),C=N(d),p=D(),v=m("td"),c=N(r),h=D(),this.h()},l(a){t=b(a,"TR",{class:!0});var l=A(t);e=b(l,"TD",{});var B=A(e);f=z(B,s),B.forEach(_),i=E(l),o=b(l,"TD",{});var y=A(o);C=z(y,d),y.forEach(_),p=E(l),v=b(l,"TD",{});var H=A(v);c=z(H,r),H.forEach(_),h=E(l),l.forEach(_),this.h()},h(){T(t,"class","is-danger is-light")},m(a,l){M(a,t,l),n(t,e),n(e,f),n(t,i),n(t,o),n(o,C),n(t,p),n(t,v),n(v,c),n(t,h)},p(a,l){l&2&&s!==(s=a[11].transactionDate+"")&&j(f,s),l&2&&d!==(d=a[11].amount+"")&&j(C,d),l&2&&r!==(r=a[11].description+"")&&j(c,r)},d(a){a&&_(t)}}}function dt(u){let t,e;function s(o,d){return d&2&&(t=null),t==null&&(t=!!o[11].description.includes("wager")),t?At:Et}let f=s(u,-1),i=f(u);return{c(){i.c(),e=S()},l(o){i.l(o),e=S()},m(o,d){i.m(o,d),M(o,e,d)},p(o,d){f===(f=s(o,d))&&i?i.p(o,d):(i.d(1),i=f(o),i&&(i.c(),i.m(e.parentNode,e)))},d(o){o&&_(e),i.d(o)}}}function yt(u){let t,e=u[2]&&ut(u);return{c(){e&&e.c(),t=S()},l(s){e&&e.l(s),t=S()},m(s,f){e&&e.m(s,f),M(s,t,f)},p(s,[f]){s[2]?e?e.p(s,f):(e=ut(s),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},i:$,o:$,d(s){s&&_(t),e&&e.d(s)}}}function Ht(u,t,e){let s,f,i,o;J(u,gt,a=>e(4,s=a)),J(u,rt,a=>e(6,f=a)),J(u,Tt,a=>e(7,i=a)),J(u,Ct,a=>e(2,o=a));const d=i.url.origin;let C=0,p={balance:0,transactions:[]};function v(){var a={method:"get",url:d+"/api/service/me/myinfo",headers:{Authorization:"Bearer "+s}};Z(a).then(function(l){_t(rt,f=l.data.id,f)}).catch(function(l){alert("Could not get fitnessuser id"),console.log(l)})}function r(){var a={method:"put",url:d+"/api/balance/account/add?amount="+C,headers:{Authorization:"Bearer "+s}};Z(a).then(function(l){e(1,p.balance=l.data.balance,p),alert("Balance "+C+" added successfully"),c()}).catch(function(l){alert("Could not add balance"),console.log(l)})}function c(){var a={method:"get",url:d+"/api/balance/account/myinfo",headers:{Authorization:"Bearer "+s}};Z(a).then(function(l){e(1,p.balance=l.data.balance,p),e(1,p.transactions=l.data.transactions||[],p)}).catch(function(l){alert("Could not get account"),console.log(l)})}function h(){C=this.value,e(0,C)}return u.$$.update=()=>{u.$$.dirty&16&&s!==""&&(c(),v())},[C,p,o,r,s,h]}class Nt extends pt{constructor(t){super(),vt(this,t,Ht,yt,ft,{})}}export{Nt as component};
