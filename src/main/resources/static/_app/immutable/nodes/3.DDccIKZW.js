import{s as De,n as _e,c as Y,a as ye,b as Ce}from"../chunks/scheduler.CMRjZhAU.js";import{S as Pe,i as Be,l as se,g as D,d as f,e as d,c as m,k as A,m as p,s as E,t as z,f as I,a as k,b as S,h as s,j as q}from"../chunks/index.C4E97lkk.js";import{m as ke,j as Ve,u as je,i as we,a as Ae}from"../chunks/store.BeOcsEKM.js";import{p as Fe}from"../chunks/stores.BakboWGh.js";function Ne(a){let e,o="You are not logged in.";return{c(){e=d("h1"),e.textContent=o,this.h()},l(n){e=m(n,"H1",{class:!0,"data-svelte-h":!0}),A(e)!=="svelte-r564pm"&&(e.textContent=o),this.h()},h(){p(e,"class","title is-1")},m(n,t){D(n,e,t)},p:_e,d(n){n&&f(e)}}}function He(a){let e,o="Account Details",n,t,l,c,g,v,i,u,r,y,P,F,G=a[1].given_name+"",x,ae,N,L=a[1].email+"",J,ne,C,V,H,de="First Name:",ie,R=a[1].given_name+"",K,re,j,M,me="Surname:",oe,U=a[1].family_name+"",Q,ue,w,T,pe="Nickname:",ce,O=a[1].nickname+"",W,fe,h=a[1].user_roles&&a[1].user_roles.length>0&&Ee(a);return{c(){e=d("h1"),e.textContent=o,n=E(),t=d("div"),l=d("div"),c=d("div"),g=d("div"),v=d("figure"),i=d("img"),y=E(),P=d("div"),F=d("p"),x=z(G),ae=E(),N=d("p"),J=z(L),ne=E(),C=d("div"),V=d("p"),H=d("b"),H.textContent=de,ie=E(),K=z(R),re=E(),j=d("p"),M=d("b"),M.textContent=me,oe=E(),Q=z(U),ue=E(),w=d("p"),T=d("b"),T.textContent=pe,ce=E(),W=z(O),fe=E(),h&&h.c(),this.h()},l(_){e=m(_,"H1",{class:!0,"data-svelte-h":!0}),A(e)!=="svelte-kkccnw"&&(e.textContent=o),n=I(_),t=m(_,"DIV",{class:!0});var b=k(t);l=m(b,"DIV",{class:!0});var X=k(l);c=m(X,"DIV",{class:!0});var Z=k(c);g=m(Z,"DIV",{class:!0});var he=k(g);v=m(he,"FIGURE",{class:!0});var ve=k(v);i=m(ve,"IMG",{src:!0,alt:!0}),ve.forEach(f),he.forEach(f),y=I(Z),P=m(Z,"DIV",{class:!0});var $=k(P);F=m($,"P",{class:!0});var be=k(F);x=S(be,G),be.forEach(f),ae=I($),N=m($,"P",{class:!0});var ge=k(N);J=S(ge,L),ge.forEach(f),$.forEach(f),Z.forEach(f),ne=I(X),C=m(X,"DIV",{class:!0});var B=k(C);V=m(B,"P",{});var ee=k(V);H=m(ee,"B",{"data-svelte-h":!0}),A(H)!=="svelte-iznlmt"&&(H.textContent=de),ie=I(ee),K=S(ee,R),ee.forEach(f),re=I(B),j=m(B,"P",{});var te=k(j);M=m(te,"B",{"data-svelte-h":!0}),A(M)!=="svelte-17zsinn"&&(M.textContent=me),oe=I(te),Q=S(te,U),te.forEach(f),ue=I(B),w=m(B,"P",{});var le=k(w);T=m(le,"B",{"data-svelte-h":!0}),A(T)!=="svelte-h7e1xu"&&(T.textContent=pe),ce=I(le),W=S(le,O),le.forEach(f),fe=I(B),h&&h.l(B),B.forEach(f),X.forEach(f),b.forEach(f),this.h()},h(){p(e,"class","title is-1"),Ce(i.src,u=a[1].picture)||p(i,"src",u),p(i,"alt",r=a[1].picture),p(v,"class","image is-96x96"),p(g,"class","media-left"),p(F,"class","title is-4"),p(N,"class","subtitle is-6"),p(P,"class","media-content"),p(c,"class","media"),p(C,"class","content"),p(l,"class","card-content"),p(t,"class","card")},m(_,b){D(_,e,b),D(_,n,b),D(_,t,b),s(t,l),s(l,c),s(c,g),s(g,v),s(v,i),s(c,y),s(c,P),s(P,F),s(F,x),s(P,ae),s(P,N),s(N,J),s(l,ne),s(l,C),s(C,V),s(V,H),s(V,ie),s(V,K),s(C,re),s(C,j),s(j,M),s(j,oe),s(j,Q),s(C,ue),s(C,w),s(w,T),s(w,ce),s(w,W),s(C,fe),h&&h.m(C,null)},p(_,b){b&2&&!Ce(i.src,u=_[1].picture)&&p(i,"src",u),b&2&&r!==(r=_[1].picture)&&p(i,"alt",r),b&2&&G!==(G=_[1].given_name+"")&&q(x,G),b&2&&L!==(L=_[1].email+"")&&q(J,L),b&2&&R!==(R=_[1].given_name+"")&&q(K,R),b&2&&U!==(U=_[1].family_name+"")&&q(Q,U),b&2&&O!==(O=_[1].nickname+"")&&q(W,O),_[1].user_roles&&_[1].user_roles.length>0?h?h.p(_,b):(h=Ee(_),h.c(),h.m(C,null)):h&&(h.d(1),h=null)},d(_){_&&(f(e),f(n),f(t)),h&&h.d()}}}function Ee(a){let e,o,n="Roles:",t,l=a[1].user_roles+"",c,g,v,i=a[2]&&a[0].birthDate==null&&a[1].user_roles==="fitnessuser"&&Ie();return{c(){e=d("p"),o=d("b"),o.textContent=n,t=E(),c=z(l),g=E(),i&&i.c(),v=se()},l(u){e=m(u,"P",{});var r=k(e);o=m(r,"B",{"data-svelte-h":!0}),A(o)!=="svelte-nl7aub"&&(o.textContent=n),t=I(r),c=S(r,l),r.forEach(f),g=I(u),i&&i.l(u),v=se()},m(u,r){D(u,e,r),s(e,o),s(e,t),s(e,c),D(u,g,r),i&&i.m(u,r),D(u,v,r)},p(u,r){r&2&&l!==(l=u[1].user_roles+"")&&q(c,l),u[2]&&u[0].birthDate==null&&u[1].user_roles==="fitnessuser"?i||(i=Ie(),i.c(),i.m(v.parentNode,v)):i&&(i.d(1),i=null)},d(u){u&&(f(e),f(g),f(v)),i&&i.d(u)}}}function Ie(a){let e,o='<a href="/accountedit">Edit Account</a>';return{c(){e=d("button"),e.innerHTML=o,this.h()},l(n){e=m(n,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),A(e)!=="svelte-1jymtp3"&&(e.innerHTML=o),this.h()},h(){p(e,"type","button"),p(e,"class","btn btn-warning")},m(n,t){D(n,e,t)},d(n){n&&f(e)}}}function Me(a){let e;function o(l,c){return l[2]?He:Ne}let n=o(a),t=n(a);return{c(){t.c(),e=se()},l(l){t.l(l),e=se()},m(l,c){t.m(l,c),D(l,e,c)},p(l,[c]){n===(n=o(l))&&t?t.p(l,c):(t.d(1),t=n(l),t&&(t.c(),t.m(e.parentNode,e)))},i:_e,o:_e,d(l){l&&f(e),t.d(l)}}}function Te(a,e,o){let n,t,l,c,g;Y(a,ke,r=>o(4,n=r)),Y(a,Ve,r=>o(3,t=r)),Y(a,je,r=>o(1,l=r)),Y(a,Fe,r=>o(5,c=r)),Y(a,we,r=>o(2,g=r));const v=c.url.origin;let i={id:null,email:l.email,name:null,birthDate:null,height:null,weight:null};function u(){var r={method:"get",url:v+"/api/service/me/myinfo",headers:{Authorization:"Bearer "+t}};Ae(r).then(function(y){ye(ke,n=y.data.id,n),o(0,i=y.data)}).catch(function(y){alert("Could not get fitnessuser id"),console.log(y)})}return a.$$.update=()=>{a.$$.dirty&8&&t!==""&&u()},[i,l,g,t]}class Le extends Pe{constructor(e){super(),Be(this,e,Te,Me,De,{})}}export{Le as component};
