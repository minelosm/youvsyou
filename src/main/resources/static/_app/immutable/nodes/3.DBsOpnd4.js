import{s as me,n as ae,c as q,b as ce,a as oe}from"../chunks/scheduler.ChOpgImw.js";import{S as he,i as de,m as K,g as T,d as c,e as k,c as g,k as I,s as y,t as E,f as N,a as M,b as P,l as j,h as a,j as A}from"../chunks/index.DXDfBviM.js";import{m as ue,j as be,u as ve,i as ke,a as ge}from"../chunks/store.BrgeTI6t.js";import{p as Ce}from"../chunks/stores.CtCpJjjs.js";function Ee(n){let e,s="You are not logged in.";return{c(){e=k("p"),e.textContent=s},l(i){e=g(i,"P",{"data-svelte-h":!0}),I(e)!=="svelte-9z4115"&&(e.textContent=s)},m(i,t){T(i,e,t)},p:ae,d(i){i&&c(e)}}}function Pe(n){let e,s="Account Details",i,t,l,o,h,f,B,C,m,u=n[1].username+"",_,d,O,D,Q,L=n[1].given_name+"",R,W,w,X,S=n[1].family_name+"",G,Z,F,$,U=n[1].email+"",V,x,H,ee,z=n[1].nickname+"",Y,te,b=n[1].user_roles&&n[1].user_roles-length>0&&fe(n),v=n[1].user_roles&&n[1].user_roles.length>0&&_e(n);return{c(){e=k("h1"),e.textContent=s,i=y(),t=k("div"),l=k("p"),o=k("img"),B=y(),C=k("p"),m=E("Username: "),_=E(u),d=y(),b&&b.c(),O=y(),D=k("p"),Q=E("First Name: "),R=E(L),W=y(),w=k("p"),X=E("Surname: "),G=E(S),Z=y(),F=k("p"),$=E("Email: "),V=E(U),x=y(),H=k("p"),ee=E("Nickname: "),Y=E(z),te=y(),v&&v.c(),this.h()},l(p){e=g(p,"H1",{"data-svelte-h":!0}),I(e)!=="svelte-1ioz0ln"&&(e.textContent=s),i=N(p),t=g(p,"DIV",{});var r=M(t);l=g(r,"P",{});var re=M(l);o=g(re,"IMG",{src:!0,alt:!0}),re.forEach(c),B=N(r),C=g(r,"P",{});var le=M(C);m=P(le,"Username: "),_=P(le,u),le.forEach(c),d=N(r),b&&b.l(r),O=N(r),D=g(r,"P",{});var ne=M(D);Q=P(ne,"First Name: "),R=P(ne,L),ne.forEach(c),W=N(r),w=g(r,"P",{});var J=M(w);X=P(J,"Surname: "),G=P(J,S),Z=N(J),J.forEach(c),F=g(r,"P",{});var se=M(F);$=P(se,"Email: "),V=P(se,U),se.forEach(c),x=N(r),H=g(r,"P",{});var ie=M(H);ee=P(ie,"Nickname: "),Y=P(ie,z),ie.forEach(c),te=N(r),v&&v.l(r),r.forEach(c),this.h()},h(){oe(o.src,h=n[1].picture)||j(o,"src",h),j(o,"alt",f=n[1].picture)},m(p,r){T(p,e,r),T(p,i,r),T(p,t,r),a(t,l),a(l,o),a(t,B),a(t,C),a(C,m),a(C,_),a(t,d),b&&b.m(t,null),a(t,O),a(t,D),a(D,Q),a(D,R),a(t,W),a(t,w),a(w,X),a(w,G),a(w,Z),a(t,F),a(F,$),a(F,V),a(t,x),a(t,H),a(H,ee),a(H,Y),a(t,te),v&&v.m(t,null)},p(p,r){r&2&&!oe(o.src,h=p[1].picture)&&j(o,"src",h),r&2&&f!==(f=p[1].picture)&&j(o,"alt",f),r&2&&u!==(u=p[1].username+"")&&A(_,u),p[1].user_roles&&p[1].user_roles-length>0?b?b.p(p,r):(b=fe(p),b.c(),b.m(t,O)):b&&(b.d(1),b=null),r&2&&L!==(L=p[1].given_name+"")&&A(R,L),r&2&&S!==(S=p[1].family_name+"")&&A(G,S),r&2&&U!==(U=p[1].email+"")&&A(V,U),r&2&&z!==(z=p[1].nickname+"")&&A(Y,z),p[1].user_roles&&p[1].user_roles.length>0?v?v.p(p,r):(v=_e(p),v.c(),v.m(t,null)):v&&(v.d(1),v=null)},d(p){p&&(c(e),c(i),c(t)),b&&b.d(),v&&v.d()}}}function fe(n){let e,s,i="Roles:",t,l=n[1].user_roles+"",o;return{c(){e=k("p"),s=k("b"),s.textContent=i,t=y(),o=E(l)},l(h){e=g(h,"P",{});var f=M(e);s=g(f,"B",{"data-svelte-h":!0}),I(s)!=="svelte-1ut8rpx"&&(s.textContent=i),t=N(f),o=P(f,l),f.forEach(c)},m(h,f){T(h,e,f),a(e,s),a(e,t),a(e,o)},p(h,f){f&2&&l!==(l=h[1].user_roles+"")&&A(o,l)},d(h){h&&c(e)}}}function _e(n){let e,s,i="Roles:",t,l=n[1].user_roles+"",o,h,f,B='<a href="/balance">Balance</a>',C,m,u=n[2]&&n[0].birthDate==null&&n[1].user_roles==="fitnessuser"&&pe();return{c(){e=k("p"),s=k("b"),s.textContent=i,t=y(),o=E(l),h=y(),f=k("button"),f.innerHTML=B,C=y(),u&&u.c(),m=K(),this.h()},l(_){e=g(_,"P",{});var d=M(e);s=g(d,"B",{"data-svelte-h":!0}),I(s)!=="svelte-1ut8rpx"&&(s.textContent=i),t=N(d),o=P(d,l),d.forEach(c),h=N(_),f=g(_,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),I(f)!=="svelte-7uo9nj"&&(f.innerHTML=B),C=N(_),u&&u.l(_),m=K(),this.h()},h(){j(f,"type","button"),j(f,"class","btn btn-warning")},m(_,d){T(_,e,d),a(e,s),a(e,t),a(e,o),T(_,h,d),T(_,f,d),T(_,C,d),u&&u.m(_,d),T(_,m,d)},p(_,d){d&2&&l!==(l=_[1].user_roles+"")&&A(o,l),_[2]&&_[0].birthDate==null&&_[1].user_roles==="fitnessuser"?u||(u=pe(),u.c(),u.m(m.parentNode,m)):u&&(u.d(1),u=null)},d(_){_&&(c(e),c(h),c(f),c(C),c(m)),u&&u.d(_)}}}function pe(n){let e,s='<a href="/accountedit">Edit Account</a>';return{c(){e=k("button"),e.innerHTML=s,this.h()},l(i){e=g(i,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),I(e)!=="svelte-1i0cfkn"&&(e.innerHTML=s),this.h()},h(){j(e,"type","button"),j(e,"class","btn btn-warning")},m(i,t){T(i,e,t)},d(i){i&&c(e)}}}function ye(n){let e;function s(l,o){return l[2]?Pe:Ee}let i=s(n),t=i(n);return{c(){t.c(),e=K()},l(l){t.l(l),e=K()},m(l,o){t.m(l,o),T(l,e,o)},p(l,[o]){i===(i=s(l))&&t?t.p(l,o):(t.d(1),t=i(l),t&&(t.c(),t.m(e.parentNode,e)))},i:ae,o:ae,d(l){l&&c(e),t.d(l)}}}function Ne(n,e,s){let i,t,l,o,h;q(n,ue,m=>s(4,i=m)),q(n,be,m=>s(3,t=m)),q(n,ve,m=>s(1,l=m)),q(n,Ce,m=>s(5,o=m)),q(n,ke,m=>s(2,h=m));const f=o.url.origin;let B={id:null,email:l.email,name:null,birthDate:null,height:null,weight:null};function C(){var m={method:"get",url:f+"/api/service/me/myinfo",headers:{Authorization:"Bearer "+t}};ge(m).then(function(u){ce(ue,i=u.data.id,i),s(0,B=u.data)}).catch(function(u){alert("Could not get fitnessuser id"),console.log(u)})}return n.$$.update=()=>{n.$$.dirty&8&&t!==""&&C()},[B,l,h,t]}class we extends he{constructor(e){super(),de(this,e,Ne,ye,me,{})}}export{we as component};
