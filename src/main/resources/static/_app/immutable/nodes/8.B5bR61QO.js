import{s as Ke,e as Qe,n as Ve,r as Xe,c as Pe,a as Ze,i as xe}from"../chunks/scheduler.D14OqvYY.js";import{S as $e,i as et,e as u,s as C,c as h,k as U,f as E,a as g,d as c,l as f,o as se,g as T,h as a,r as Me,n as Ne,v as Je,q as we,m as ke,t as F,b as R,w as He,u as tt,j as ue}from"../chunks/index.BzgZtzQZ.js";import{e as Se}from"../chunks/each.D6YF6ztN.js";import{m as ze,j as lt,u as at,a as Le}from"../chunks/store.DNuBkxSY.js";import{p as st}from"../chunks/stores.CcRvwcXz.js";function Be(s,l,e){const t=s.slice();return t[20]=l[e],t[22]=e,t}function Ge(s,l,e){const t=s.slice();return t[11]=l[e],t}function Ue(s){let l,e,t='<span class="icon is-small"><i class="fa-solid fa-xmark"></i></span> <span>Clear Filter</span>',n,d;return{c(){l=u("div"),e=u("button"),e.innerHTML=t,this.h()},l(o){l=h(o,"DIV",{class:!0});var v=g(l);e=h(v,"BUTTON",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-150dsk1"&&(e.innerHTML=t),v.forEach(c),this.h()},h(){f(e,"class","button is-danger"),f(l,"class","field")},m(o,v){T(o,l,v),a(l,e),n||(d=Ne(e,"click",s[9]),n=!0)},p:Ve,d(o){o&&c(l),n=!1,d()}}}function Fe(s){let l,e=s[11].fitnessuserId1!==s[6]&&Re(s);return{c(){e&&e.c(),l=ke()},l(t){e&&e.l(t),l=ke()},m(t,n){e&&e.m(t,n),T(t,l,n)},p(t,n){t[11].fitnessuserId1!==t[6]?e?e.p(t,n):(e=Re(t),e.c(),e.m(l.parentNode,l)):e&&(e.d(1),e=null)},d(t){t&&c(l),e&&e.d(t)}}}function Re(s){let l,e=s[11].fitnessuserId2!==s[6]&&We(s);return{c(){e&&e.c(),l=ke()},l(t){e&&e.l(t),l=ke()},m(t,n){e&&e.m(t,n),T(t,l,n)},p(t,n){t[11].fitnessuserId2!==t[6]?e?e.p(t,n):(e=We(t),e.c(),e.m(l.parentNode,l)):e&&(e.d(1),e=null)},d(t){t&&c(l),e&&e.d(t)}}}function We(s){let l,e,t,n,d=s[11].name+"",o,v,y=s[11].challengeType+"",M,L,w,J='<span class="icon"><i class="fas fa-dumbbell" aria-hidden="true"></i></span>',P,I,H,W=s[11].description+"",K,b,S,V,he,p=s[11].wager+"",z,k,be,N,_e,Q,de=s[11].startDate+"",j,Ce,B=s[11].endDate+"",pe,X,ae,re,ne,q=s[11].fitnesscenter+"",me,ge,$,ee,Y,Z=s[7].user_roles.includes("fitnessuser"),te,le,Ee,O,ie;function A(_,r){if(_[11].challengeState==="OPEN")return it;if(_[11].challengeState==="WAITING")return nt}let x=A(s),m=x&&x(s),i=Z&&je(s);return{c(){l=u("div"),e=u("div"),t=u("header"),n=u("p"),o=F(d),v=u("span"),M=F(y),L=C(),w=u("button"),w.innerHTML=J,P=C(),I=u("div"),H=u("div"),K=F(W),b=C(),S=u("div"),V=u("i"),he=C(),z=F(p),k=F(" CHF"),be=C(),N=u("div"),_e=u("i"),Q=C(),j=F(de),Ce=F(" - "),pe=F(B),X=C(),ae=u("div"),re=u("i"),ne=C(),me=F(q),ge=C(),$=u("div"),m&&m.c(),ee=C(),Y=u("footer"),i&&i.c(),te=C(),le=u("a"),Ee=F("Detail"),ie=C(),this.h()},l(_){l=h(_,"DIV",{class:!0});var r=g(l);e=h(r,"DIV",{class:!0});var G=g(e);t=h(G,"HEADER",{class:!0});var ce=g(t);n=h(ce,"P",{class:!0});var Te=g(n);o=R(Te,d),v=h(Te,"SPAN",{class:!0});var Oe=g(v);M=R(Oe,y),Oe.forEach(c),Te.forEach(c),L=E(ce),w=h(ce,"BUTTON",{class:!0,"aria-label":!0,"data-svelte-h":!0}),U(w)!=="svelte-35016i"&&(w.innerHTML=J),ce.forEach(c),P=E(G),I=h(G,"DIV",{class:!0});var D=g(I);H=h(D,"DIV",{class:!0});var De=g(H);K=R(De,W),De.forEach(c),b=E(D),S=h(D,"DIV",{class:!0});var ve=g(S);V=h(ve,"I",{class:!0}),g(V).forEach(c),he=E(ve),z=R(ve,p),k=R(ve," CHF"),ve.forEach(c),be=E(D),N=h(D,"DIV",{class:!0});var fe=g(N);_e=h(fe,"I",{class:!0}),g(_e).forEach(c),Q=E(fe),j=R(fe,de),Ce=R(fe," - "),pe=R(fe,B),fe.forEach(c),X=E(D),ae=h(D,"DIV",{class:!0});var Ie=g(ae);re=h(Ie,"I",{class:!0}),g(re).forEach(c),ne=E(Ie),me=R(Ie,q),Ie.forEach(c),ge=E(D),$=h(D,"DIV",{class:!0});var oe=g($);m&&m.l(oe),oe.forEach(c),D.forEach(c),ee=E(G),Y=h(G,"FOOTER",{class:!0});var Ae=g(Y);i&&i.l(Ae),te=E(Ae),le=h(Ae,"A",{href:!0,class:!0});var ye=g(le);Ee=R(ye,"Detail"),ye.forEach(c),Ae.forEach(c),G.forEach(c),ie=E(r),r.forEach(c),this.h()},h(){f(v,"class","tag is-info is-light"),f(n,"class","card-header-title"),f(w,"class","card-header-icon"),f(w,"aria-label","more options"),f(t,"class","card-header"),f(H,"class","content"),f(V,"class","fa-solid fa-sack-dollar"),f(S,"class","content"),f(_e,"class","fas fa-calendar-alt"),f(N,"class","content"),f(re,"class","fa-solid fa-weight-hanging"),f(ae,"class","content"),f($,"class","content"),f(I,"class","card-content svelte-b9zz6y"),f(le,"href",O="/challenge?id="+s[11].id),f(le,"class","card-footer-item"),f(Y,"class","card-footer"),f(e,"class","card full-height-card svelte-b9zz6y"),f(l,"class","column is-one-third")},m(_,r){T(_,l,r),a(l,e),a(e,t),a(t,n),a(n,o),a(n,v),a(v,M),a(t,L),a(t,w),a(e,P),a(e,I),a(I,H),a(H,K),a(I,b),a(I,S),a(S,V),a(S,he),a(S,z),a(S,k),a(I,be),a(I,N),a(N,_e),a(N,Q),a(N,j),a(N,Ce),a(N,pe),a(I,X),a(I,ae),a(ae,re),a(ae,ne),a(ae,me),a(I,ge),a(I,$),m&&m.m($,null),a(e,ee),a(e,Y),i&&i.m(Y,null),a(Y,te),a(Y,le),a(le,Ee),a(l,ie)},p(_,r){r&8&&d!==(d=_[11].name+"")&&ue(o,d),r&8&&y!==(y=_[11].challengeType+"")&&ue(M,y),r&8&&W!==(W=_[11].description+"")&&ue(K,W),r&8&&p!==(p=_[11].wager+"")&&ue(z,p),r&8&&de!==(de=_[11].startDate+"")&&ue(j,de),r&8&&B!==(B=_[11].endDate+"")&&ue(pe,B),r&8&&q!==(q=_[11].fitnesscenter+"")&&ue(me,q),x===(x=A(_))&&m?m.p(_,r):(m&&m.d(1),m=x&&x(_),m&&(m.c(),m.m($,null))),r&128&&(Z=_[7].user_roles.includes("fitnessuser")),Z?i?i.p(_,r):(i=je(_),i.c(),i.m(Y,te)):i&&(i.d(1),i=null),r&8&&O!==(O="/challenge?id="+_[11].id)&&f(le,"href",O)},d(_){_&&c(l),m&&m.d(),i&&i.d()}}}function nt(s){let l,e,t=s[11].challengeState+"",n,d;return{c(){l=u("i"),e=C(),n=F(t),d=F(" for a competitor"),this.h()},l(o){l=h(o,"I",{class:!0}),g(l).forEach(c),e=E(o),n=R(o,t),d=R(o," for a competitor"),this.h()},h(){f(l,"class","fas fa-clock")},m(o,v){T(o,l,v),T(o,e,v),T(o,n,v),T(o,d,v)},p(o,v){v&8&&t!==(t=o[11].challengeState+"")&&ue(n,t)},d(o){o&&(c(l),c(e),c(n),c(d))}}}function it(s){let l,e,t=s[11].challengeState+"",n,d;return{c(){l=u("i"),e=C(),n=F(t),d=F(" to compete"),this.h()},l(o){l=h(o,"I",{class:!0}),g(l).forEach(c),e=E(o),n=R(o,t),d=R(o," to compete"),this.h()},h(){f(l,"class","fas fa-check")},m(o,v){T(o,l,v),T(o,e,v),T(o,n,v),T(o,d,v)},p(o,v){v&8&&t!==(t=o[11].challengeState+"")&&ue(n,t)},d(o){o&&(c(l),c(e),c(n),c(d))}}}function je(s){let l,e="Compete to me",t,n;return{c(){l=u("a"),l.textContent=e,this.h()},l(d){l=h(d,"A",{href:!0,class:!0,"data-svelte-h":!0}),U(l)!=="svelte-y56rmb"&&(l.textContent=e),this.h()},h(){f(l,"href","#"),f(l,"class","card-footer-item")},m(d,o){T(d,l,o),t||(n=Ne(l,"click",function(){xe(s[8](s[11].id))&&s[8](s[11].id).apply(this,arguments)}),t=!0)},p(d,o){s=d},d(d){d&&c(l),t=!1,n()}}}function qe(s){let l,e=(s[11].challengeState==="OPEN"||s[11].challengeState==="WAITING")&&Fe(s);return{c(){e&&e.c(),l=ke()},l(t){e&&e.l(t),l=ke()},m(t,n){e&&e.m(t,n),T(t,l,n)},p(t,n){t[11].challengeState==="OPEN"||t[11].challengeState==="WAITING"?e?e.p(t,n):(e=Fe(t),e.c(),e.m(l.parentNode,l)):e&&(e.d(1),e=null)},d(t){t&&c(l),e&&e.d(t)}}}function Ye(s){let l,e,t=s[22]+1+"",n,d;return{c(){l=u("li"),e=u("a"),n=F(t),d=C(),this.h()},l(o){l=h(o,"LI",{});var v=g(l);e=h(v,"A",{class:!0,"aria-label":!0,href:!0});var y=g(e);n=R(y,t),y.forEach(c),d=E(v),v.forEach(c),this.h()},h(){f(e,"class","pagination-link is-current"),f(e,"aria-label","Page 1"),f(e,"href","/challenges?page="+(s[22]+1)),He(e,"active",s[1]==s[22]+1)},m(o,v){T(o,l,v),a(l,e),a(e,n),a(l,d)},p(o,v){v&2&&He(e,"active",o[1]==o[22]+1)},d(o){o&&c(l)}}}function ot(s){let l,e="All Challenges",t,n,d,o,v="Wager:",y,M,L,w,J,P,I="Challenge Type:",H,W,K,b,S,V,he="STAMINA",p,z="MUSCLEBUILDING",k,be="SPEED",N,_e="POWER",Q,de="WEIGTHLOSS",j,Ce="CARDIO",B,pe="AGILITY",X,ae="REACTION",re,ne,q,me='<span class="icon is-small"><i class="fa-solid fa-magnifying-glass"></i></span> <span>Search</span>',ge,$,ee,Y,Z,te,le,Ee,O=s[0]&&Ue(s),ie=Se(s[3]),A=[];for(let i=0;i<ie.length;i+=1)A[i]=qe(Ge(s,ie,i));let x=Se(Array(s[2])),m=[];for(let i=0;i<x.length;i+=1)m[i]=Ye(Be(s,x,i));return{c(){l=u("h1"),l.textContent=e,t=C(),n=u("div"),d=u("div"),o=u("label"),o.textContent=v,y=C(),M=u("div"),L=u("input"),w=C(),J=u("div"),P=u("label"),P.textContent=I,H=C(),W=u("div"),K=u("div"),b=u("select"),S=u("option"),V=u("option"),V.textContent=he,p=u("option"),p.textContent=z,k=u("option"),k.textContent=be,N=u("option"),N.textContent=_e,Q=u("option"),Q.textContent=de,j=u("option"),j.textContent=Ce,B=u("option"),B.textContent=pe,X=u("option"),X.textContent=ae,re=C(),ne=u("div"),q=u("button"),q.innerHTML=me,ge=C(),O&&O.c(),$=C(),ee=u("div");for(let i=0;i<A.length;i+=1)A[i].c();Y=C(),Z=u("nav"),te=u("ul");for(let i=0;i<m.length;i+=1)m[i].c();this.h()},l(i){l=h(i,"H1",{class:!0,"data-svelte-h":!0}),U(l)!=="svelte-1m380mg"&&(l.textContent=e),t=E(i),n=h(i,"DIV",{class:!0});var _=g(n);d=h(_,"DIV",{class:!0});var r=g(d);o=h(r,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),U(o)!=="svelte-18a5rsn"&&(o.textContent=v),y=E(r),M=h(r,"DIV",{class:!0});var G=g(M);L=h(G,"INPUT",{class:!0,type:!0,placeholder:!0}),G.forEach(c),r.forEach(c),w=E(_),J=h(_,"DIV",{class:!0});var ce=g(J);P=h(ce,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),U(P)!=="svelte-1agfax"&&(P.textContent=I),H=E(ce),W=h(ce,"DIV",{class:!0});var Te=g(W);K=h(Te,"DIV",{class:!0});var Oe=g(K);b=h(Oe,"SELECT",{});var D=g(b);S=h(D,"OPTION",{}),g(S).forEach(c),V=h(D,"OPTION",{"data-svelte-h":!0}),U(V)!=="svelte-1n8rehg"&&(V.textContent=he),p=h(D,"OPTION",{"data-svelte-h":!0}),U(p)!=="svelte-1wko3ei"&&(p.textContent=z),k=h(D,"OPTION",{"data-svelte-h":!0}),U(k)!=="svelte-1niilbk"&&(k.textContent=be),N=h(D,"OPTION",{"data-svelte-h":!0}),U(N)!=="svelte-1bie7cs"&&(N.textContent=_e),Q=h(D,"OPTION",{"data-svelte-h":!0}),U(Q)!=="svelte-17t4u6"&&(Q.textContent=de),j=h(D,"OPTION",{"data-svelte-h":!0}),U(j)!=="svelte-i63bda"&&(j.textContent=Ce),B=h(D,"OPTION",{"data-svelte-h":!0}),U(B)!=="svelte-17iizz8"&&(B.textContent=pe),X=h(D,"OPTION",{"data-svelte-h":!0}),U(X)!=="svelte-fcx342"&&(X.textContent=ae),D.forEach(c),Oe.forEach(c),Te.forEach(c),ce.forEach(c),re=E(_),ne=h(_,"DIV",{class:!0});var De=g(ne);q=h(De,"BUTTON",{class:!0,"data-svelte-h":!0}),U(q)!=="svelte-qsigio"&&(q.innerHTML=me),De.forEach(c),ge=E(_),O&&O.l(_),_.forEach(c),$=E(i),ee=h(i,"DIV",{class:!0});var ve=g(ee);for(let oe=0;oe<A.length;oe+=1)A[oe].l(ve);ve.forEach(c),Y=E(i),Z=h(i,"NAV",{class:!0,role:!0,"aria-label":!0});var fe=g(Z);te=h(fe,"UL",{class:!0});var Ie=g(te);for(let oe=0;oe<m.length;oe+=1)m[oe].l(Ie);Ie.forEach(c),fe.forEach(c),this.h()},h(){f(l,"class","title is-1"),f(o,"for","wager"),f(o,"class","label"),f(L,"class","input"),f(L,"type","number"),f(L,"placeholder","min"),f(M,"class","control"),f(d,"class","field"),f(P,"for","challengetype"),f(P,"class","label"),S.__value="ALL",se(S,S.__value),V.__value="STAMINA",se(V,V.__value),p.__value="MUSCLEBUILDING",se(p,p.__value),k.__value="SPEED",se(k,k.__value),N.__value="POWER",se(N,N.__value),Q.__value="WEIGTHLOSS",se(Q,Q.__value),j.__value="CARDIO",se(j,j.__value),B.__value="AGILITY",se(B,B.__value),X.__value="REACTION",se(X,X.__value),s[5]===void 0&&Qe(()=>s[15].call(b)),f(K,"class","select"),f(W,"class","control"),f(J,"class","field"),f(q,"class","button is-success"),f(ne,"class","field"),f(n,"class","box"),f(ee,"class","columns"),f(te,"class","pagination-list"),f(Z,"class","pagination"),f(Z,"role","navigation"),f(Z,"aria-label","pagination")},m(i,_){T(i,l,_),T(i,t,_),T(i,n,_),a(n,d),a(d,o),a(d,y),a(d,M),a(M,L),se(L,s[4]),a(n,w),a(n,J),a(J,P),a(J,H),a(J,W),a(W,K),a(K,b),a(b,S),a(b,V),a(b,p),a(b,k),a(b,N),a(b,Q),a(b,j),a(b,B),a(b,X),Me(b,s[5],!0),a(n,re),a(n,ne),a(ne,q),a(n,ge),O&&O.m(n,null),T(i,$,_),T(i,ee,_);for(let r=0;r<A.length;r+=1)A[r]&&A[r].m(ee,null);T(i,Y,_),T(i,Z,_),a(Z,te);for(let r=0;r<m.length;r+=1)m[r]&&m[r].m(te,null);le||(Ee=[Ne(L,"input",s[14]),Ne(b,"change",s[15]),Ne(q,"click",s[10])],le=!0)},p(i,[_]){if(_&16&&Je(L.value)!==i[4]&&se(L,i[4]),_&32&&Me(b,i[5]),i[0]?O?O.p(i,_):(O=Ue(i),O.c(),O.m(n,null)):O&&(O.d(1),O=null),_&456){ie=Se(i[3]);let r;for(r=0;r<ie.length;r+=1){const G=Ge(i,ie,r);A[r]?A[r].p(G,_):(A[r]=qe(G),A[r].c(),A[r].m(ee,null))}for(;r<A.length;r+=1)A[r].d(1);A.length=ie.length}if(_&6){x=Se(Array(i[2]));let r;for(r=0;r<x.length;r+=1){const G=Be(i,x,r);m[r]?m[r].p(G,_):(m[r]=Ye(G),m[r].c(),m[r].m(te,null))}for(;r<m.length;r+=1)m[r].d(1);m.length=x.length}},i:Ve,o:Ve,d(i){i&&(c(l),c(t),c(n),c($),c(ee),c(Y),c(Z)),O&&O.d(),we(A,i),we(m,i),le=!1,Xe(Ee)}}}let rt=4;function ct(s,l,e){let t,n,d,o;Pe(s,ze,p=>e(6,t=p)),Pe(s,lt,p=>e(12,n=p)),Pe(s,st,p=>e(13,d=p)),Pe(s,at,p=>e(7,o=p));let v=!1;const y=d.url.origin;let M,L=0,w=[],J={name:null,startDate:null,endDate:null,wager:null,challengeType:null,fitnesscoachId:t},P,I;function H(){let p="?pageSize="+rt+"&pageNumber="+M;P&&(p+="&min="+P),I&&I!=="ALL"&&(p+="&type="+I);var z={method:"get",url:y+"/api/challenge"+p,headers:{Authorization:"Bearer "+n}};Le(z).then(function(k){e(3,w=k.data.content),e(2,L=k.data.totalPages)}).catch(function(k){alert("Could not get challenges"),console.log(k)})}function W(p){var z={method:"put",url:y+"/api/service/me/competechallenge?challengeId="+p,headers:{Authorization:"Bearer "+n}};Le(z).then(function(k){H()}).catch(function(k){alert("Could not compete to the challenge, Balance Account is too low"),console.log(k)})}function K(){var p={method:"get",url:y+"/api/service/me/myinfo",headers:{Authorization:"Bearer "+n}};Le(p).then(function(z){Ze(ze,t=z.data.id,t)}).catch(function(z){alert("Could not get fitnessuser id"),console.log(z)})}function b(){e(4,P=null),e(5,I=null),e(0,v=!1),H()}function S(){e(0,v=!0),H()}function V(){P=Je(this.value),e(4,P)}function he(){I=tt(this),e(5,I)}return s.$$.update=()=>{if(s.$$.dirty&12288&&n!==""){K();let p=d.url.searchParams;p.has("page")?e(1,M=p.get("page")):e(1,M="1"),H()}},[v,M,L,w,P,I,t,o,W,b,S,J,n,d,V,he]}class vt extends $e{constructor(l){super(),et(this,l,ct,ot,Ke,{})}}export{vt as component};
