import{s as mt,n as nt,c as R,o as _t,r as pt,a as ut,d as ct}from"../chunks/scheduler.D14OqvYY.js";import{S as bt,i as gt,s as L,m as ft,f as I,g as z,d as y,e as c,c as f,a as T,k as w,l as a,h as n,o as S,n as O,p as vt}from"../chunks/index.BzgZtzQZ.js";import{p as Ct}from"../chunks/stores.Bbe0n_b2.js";import{j as yt,u as Dt,m as st,i as Lt,a as lt}from"../chunks/store.DziLOV3m.js";import{g as ht}from"../chunks/entry.DYn8hkwW.js";function dt(r){let t,s,i="Fullfill Account Details",u,o,e,l="Fitnesscenter",b,p,v,H,d,N='<i class="fa-solid fa-weight-hanging"></i>',F,C,A='<div class="control"><button class="button is-link">Submit</button></div>',P,V;return{c(){t=c("form"),s=c("h1"),s.textContent=i,u=L(),o=c("div"),e=c("label"),e.textContent=l,b=L(),p=c("div"),v=c("input"),H=L(),d=c("span"),d.innerHTML=N,F=L(),C=c("div"),C.innerHTML=A,this.h()},l(g){t=f(g,"FORM",{class:!0});var m=T(t);s=f(m,"H1",{class:!0,"data-svelte-h":!0}),w(s)!=="svelte-1ytkssq"&&(s.textContent=i),u=I(m),o=f(m,"DIV",{class:!0});var M=T(o);e=f(M,"LABEL",{for:!0,"data-svelte-h":!0}),w(e)!=="svelte-ao3am8"&&(e.textContent=l),b=I(M),p=f(M,"DIV",{class:!0});var k=T(p);v=f(k,"INPUT",{type:!0,class:!0}),H=I(k),d=f(k,"SPAN",{class:!0,"data-svelte-h":!0}),w(d)!=="svelte-1ggwmx6"&&(d.innerHTML=N),k.forEach(y),M.forEach(y),F=I(m),C=f(m,"DIV",{class:!0,"data-svelte-h":!0}),w(C)!=="svelte-1rsfnvi"&&(C.innerHTML=A),m.forEach(y),this.h()},h(){a(s,"class","title is-1"),a(e,"for","fitnesscenter"),a(v,"type","text"),a(v,"class","input"),a(d,"class","icon is-small is-left"),a(p,"class","control has-icons-left has-icons-right"),a(o,"class","field"),a(C,"class","field is-grouped"),a(t,"class","box")},m(g,m){z(g,t,m),n(t,s),n(t,u),n(t,o),n(o,e),n(o,b),n(o,p),n(p,v),S(v,r[1]),n(p,H),n(p,d),n(t,F),n(t,C),r[10](t),P||(V=[O(v,"input",r[9]),O(t,"submit",vt(r[8]))],P=!0)},p(g,m){m&2&&v.value!==g[1]&&S(v,g[1])},d(g){g&&y(t),r[10](null),P=!1,pt(V)}}}function It(r){let t,s="Can't edit account",i,u,o="Account was already edited";return{c(){t=c("h1"),t.textContent=s,i=L(),u=c("p"),u.textContent=o,this.h()},l(e){t=f(e,"H1",{class:!0,"data-svelte-h":!0}),w(t)!=="svelte-1ab3359"&&(t.textContent=s),i=I(e),u=f(e,"P",{class:!0,"data-svelte-h":!0}),w(u)!=="svelte-on32jk"&&(u.textContent=o),this.h()},h(){a(t,"class","title is-1"),a(u,"class","subtitle is-3")},m(e,l){z(e,t,l),z(e,i,l),z(e,u,l)},p:nt,d(e){e&&(y(t),y(i),y(u))}}}function kt(r){let t,s,i="Fullfill Account Details",u,o,e,l="Birth Date",b,p,v,H,d,N='<i class="fa-solid fa-baby"></i>',F,C,A,P="Height",V,g,m,M,k,W='<i class="fa-solid fa-person"></i>',h,_,U,it="Weight",Z,B,x,$,j,at='<i class="fa-solid fa-weight-scale"></i>',tt,q,ot='<div class="control"><button class="button is-link">Submit</button></div>',et,rt;return{c(){t=c("form"),s=c("h1"),s.textContent=i,u=L(),o=c("div"),e=c("label"),e.textContent=l,b=L(),p=c("div"),v=c("input"),H=L(),d=c("span"),d.innerHTML=N,F=L(),C=c("div"),A=c("label"),A.textContent=P,V=L(),g=c("div"),m=c("input"),M=L(),k=c("span"),k.innerHTML=W,h=L(),_=c("div"),U=c("label"),U.textContent=it,Z=L(),B=c("div"),x=c("input"),$=L(),j=c("span"),j.innerHTML=at,tt=L(),q=c("div"),q.innerHTML=ot,this.h()},l(E){t=f(E,"FORM",{class:!0});var D=T(t);s=f(D,"H1",{class:!0,"data-svelte-h":!0}),w(s)!=="svelte-1ytkssq"&&(s.textContent=i),u=I(D),o=f(D,"DIV",{class:!0});var G=T(o);e=f(G,"LABEL",{for:!0,"data-svelte-h":!0}),w(e)!=="svelte-rn0zcc"&&(e.textContent=l),b=I(G),p=f(G,"DIV",{class:!0});var J=T(p);v=f(J,"INPUT",{type:!0,class:!0}),H=I(J),d=f(J,"SPAN",{class:!0,"data-svelte-h":!0}),w(d)!=="svelte-dadx6l"&&(d.innerHTML=N),J.forEach(y),G.forEach(y),F=I(D),C=f(D,"DIV",{class:!0});var K=T(C);A=f(K,"LABEL",{for:!0,"data-svelte-h":!0}),w(A)!=="svelte-1bbixbe"&&(A.textContent=P),V=I(K),g=f(K,"DIV",{class:!0});var Q=T(g);m=f(Q,"INPUT",{type:!0,class:!0}),M=I(Q),k=f(Q,"SPAN",{class:!0,"data-svelte-h":!0}),w(k)!=="svelte-5o4fiu"&&(k.innerHTML=W),Q.forEach(y),K.forEach(y),h=I(D),_=f(D,"DIV",{class:!0});var X=T(_);U=f(X,"LABEL",{for:!0,"data-svelte-h":!0}),w(U)!=="svelte-1wni8ci"&&(U.textContent=it),Z=I(X),B=f(X,"DIV",{class:!0});var Y=T(B);x=f(Y,"INPUT",{type:!0,class:!0}),$=I(Y),j=f(Y,"SPAN",{class:!0,"data-svelte-h":!0}),w(j)!=="svelte-rjdqrk"&&(j.innerHTML=at),Y.forEach(y),X.forEach(y),tt=I(D),q=f(D,"DIV",{class:!0,"data-svelte-h":!0}),w(q)!=="svelte-1dooc66"&&(q.innerHTML=ot),D.forEach(y),this.h()},h(){a(s,"class","title is-1"),a(e,"for","birthDate"),a(v,"type","text"),a(v,"class","input"),a(d,"class","icon is-small is-left"),a(p,"class","control has-icons-left has-icons-right"),a(o,"class","field"),a(A,"for","height"),a(m,"type","text"),a(m,"class","input"),a(k,"class","icon is-small is-left"),a(g,"class","control has-icons-left has-icons-right"),a(C,"class","field"),a(U,"for","weight"),a(x,"type","text"),a(x,"class","input"),a(j,"class","icon is-small is-left"),a(B,"class","control has-icons-left has-icons-right"),a(_,"class","field"),a(q,"class","field is-grouped"),a(t,"class","box")},m(E,D){z(E,t,D),n(t,s),n(t,u),n(t,o),n(o,e),n(o,b),n(o,p),n(p,v),S(v,r[3].birthDate),n(p,H),n(p,d),n(t,F),n(t,C),n(C,A),n(C,V),n(C,g),n(g,m),S(m,r[3].height),n(g,M),n(g,k),n(t,h),n(t,_),n(_,U),n(_,Z),n(_,B),n(B,x),S(x,r[3].weight),n(B,$),n(B,j),n(t,tt),n(t,q),r[14](t),et||(rt=[O(v,"input",r[11]),O(m,"input",r[12]),O(x,"input",r[13]),O(t,"submit",vt(r[7]))],et=!0)},p(E,D){D&8&&v.value!==E[3].birthDate&&S(v,E[3].birthDate),D&8&&m.value!==E[3].height&&S(m,E[3].height),D&8&&x.value!==E[3].weight&&S(x,E[3].weight)},d(E){E&&y(t),r[14](null),et=!1,pt(rt)}}}function wt(r){let t,s,i=r[6]&&r[5].user_roles==="fitnesscoach"&&r[4].fitnesscenter==null&&dt(r);function u(l,b){return l[6]&&l[5].user_roles=="fitnessuser"&&l[2].birthDate==null?kt:It}let o=u(r),e=o(r);return{c(){i&&i.c(),t=L(),e.c(),s=ft()},l(l){i&&i.l(l),t=I(l),e.l(l),s=ft()},m(l,b){i&&i.m(l,b),z(l,t,b),e.m(l,b),z(l,s,b)},p(l,[b]){l[6]&&l[5].user_roles==="fitnesscoach"&&l[4].fitnesscenter==null?i?i.p(l,b):(i=dt(l),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null),o===(o=u(l))&&e?e.p(l,b):(e.d(1),e=o(l),e&&(e.c(),e.m(s.parentNode,s)))},i:nt,o:nt,d(l){l&&(y(t),y(s)),i&&i.d(l),e.d(l)}}}function At(r,t,s){let i,u,o,e,l;R(r,yt,h=>s(15,i=h)),R(r,Dt,h=>s(5,u=h)),R(r,st,h=>s(16,o=h)),R(r,Ct,h=>s(17,e=h)),R(r,Lt,h=>s(6,l=h));const b=e.url.origin;let p,v=null,H={id:null,email:u.email,name:null,birthDate:null,height:null,weight:null},d={email:u.email,birthDate:null,height:null,weight:null},N={id:null,email:u.email,name:null,fitnesscenter:null},F={email:u.email,fitnesscenter:null};_t(()=>{i!==""&&C()});function C(){var h={method:"get",url:b+"/api/service/me/myinfo",headers:{Authorization:"Bearer "+i}};lt(h).then(function(_){u.user_roles==="fitnessuser"?(ut(st,o=_.data.id,o),s(2,H=_.data)):(ut(st,o=_.data.id,o),s(4,N=_.data))}).catch(function(_){alert("Could not get fitnessuser id"),console.log(_)})}function A(){var h={method:"put",url:b+"/api/fitnessuser/edit/"+u.email,headers:{Authorization:"Bearer "+i},data:d};lt(h).then(function(_){alert("User Information edited successfully"),ht("/account")}).catch(function(_){alert("Error editing user information"),console.log(_)})}function P(){var h={method:"put",url:b+"/api/fitnesscoach/edit/"+u.email,headers:{Authorization:"Bearer "+i},data:F};lt(h).then(function(_){alert("Coach Information edited successfully"),ht("/account")}).catch(function(_){alert("Error editing coach information"),console.log(_)})}function V(){v=this.value,s(1,v)}function g(h){ct[h?"unshift":"push"](()=>{p=h,s(0,p)})}function m(){d.birthDate=this.value,s(3,d)}function M(){d.height=this.value,s(3,d)}function k(){d.weight=this.value,s(3,d)}function W(h){ct[h?"unshift":"push"](()=>{p=h,s(0,p)})}return[p,v,H,d,N,u,l,A,P,V,g,m,M,k,W]}class xt extends bt{constructor(t){super(),gt(this,t,At,wt,mt,{})}}export{xt as component};
