import{s as ke,n as ue,c as fe,d as Ie}from"../chunks/scheduler.Deqr36vW.js";import{S as Se,i as ye,s as D,m as _e,f as k,g as w,d,e as v,c as m,k as q,a as E,l as z,h as s,r as De,t as I,b as S,j as A}from"../chunks/index.CWdPgYsE.js";import{e as de}from"../chunks/each.D6YF6ztN.js";import{p as Ae}from"../chunks/stores.ByFqBt5C.js";import{m as pe,j as we,i as Ne,u as Fe,a as ge}from"../chunks/store.Dr_rZdYm.js";function ve(o,e,h){const n=o.slice();return n[10]=e[h],n}function me(o,e,h){const n=o.slice();return n[10]=e[h],n}function be(o){let e,h="My Created Challenges",n,i,f,_='<tr><th scope="col">Challenge ID</th> <th scope="col">Description</th> <th scope="col">Type</th> <th scope="col">Wager</th> <th scope="col">State</th> <th scope="col">Fitnessuser Id1</th> <th scope="col">Fitnessuser Id2</th> <th scope="col">Actions</th> <th scope="col">View Single</th></tr>',c,p,C=de(o[0]),r=[];for(let a=0;a<C.length;a+=1)r[a]=Te(me(o,C,a));return{c(){e=v("h1"),e.textContent=h,n=D(),i=v("table"),f=v("thead"),f.innerHTML=_,c=D(),p=v("tbody");for(let a=0;a<r.length;a+=1)r[a].c();this.h()},l(a){e=m(a,"H1",{"data-svelte-h":!0}),q(e)!=="svelte-12o0bl6"&&(e.textContent=h),n=k(a),i=m(a,"TABLE",{class:!0});var g=E(i);f=m(g,"THEAD",{"data-svelte-h":!0}),q(f)!=="svelte-1jybdjp"&&(f.innerHTML=_),c=k(g),p=m(g,"TBODY",{});var t=E(p);for(let b=0;b<r.length;b+=1)r[b].l(t);t.forEach(d),g.forEach(d),this.h()},h(){z(i,"class","table")},m(a,g){w(a,e,g),w(a,n,g),w(a,i,g),s(i,f),s(i,c),s(i,p);for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(p,null)},p(a,g){if(g&1){C=de(a[0]);let t;for(t=0;t<C.length;t+=1){const b=me(a,C,t);r[t]?r[t].p(b,g):(r[t]=Te(b),r[t].c(),r[t].m(p,null))}for(;t<r.length;t+=1)r[t].d(1);r.length=C.length}},d(a){a&&(d(e),d(n),d(i)),De(r,a)}}}function He(o){let e,h="Finished";return{c(){e=v("span"),e.textContent=h,this.h()},l(n){e=m(n,"SPAN",{class:!0,"data-svelte-h":!0}),q(e)!=="svelte-1pyhy73"&&(e.textContent=h),this.h()},h(){z(e,"class","badge bg-success")},m(n,i){w(n,e,i)},d(n){n&&d(e)}}}function je(o){let e,h="Running";return{c(){e=v("span"),e.textContent=h,this.h()},l(n){e=m(n,"SPAN",{class:!0,"data-svelte-h":!0}),q(e)!=="svelte-bkp6rd"&&(e.textContent=h),this.h()},h(){z(e,"class","badge bg-secondary")},m(n,i){w(n,e,i)},d(n){n&&d(e)}}}function Te(o){let e,h,n=o[10].id+"",i,f,_,c=o[10].description+"",p,C,r,a=o[10].challengeType+"",g,t,b,H=o[10].wager+"",G,J,j,M=o[10].challengeState+"",O,K,B,L=o[10].fitnessuserId1+"",U,Q,P,R=o[10].fitnessuserId2+"",W,X,N,Z,V,y,$,Y,x;function ee(u,l){if(u[10].challengeState==="RUNNING")return je;if(u[10].challengeState==="FINISHED")return He}let F=ee(o),T=F&&F(o);return{c(){e=v("tr"),h=v("td"),i=I(n),f=D(),_=v("td"),p=I(c),C=D(),r=v("td"),g=I(a),t=D(),b=v("td"),G=I(H),J=D(),j=v("td"),O=I(M),K=D(),B=v("td"),U=I(L),Q=D(),P=v("td"),W=I(R),X=D(),N=v("td"),T&&T.c(),Z=D(),V=v("td"),y=v("a"),$=I("View"),x=D(),this.h()},l(u){e=m(u,"TR",{});var l=E(e);h=m(l,"TD",{});var te=E(h);i=S(te,n),te.forEach(d),f=k(l),_=m(l,"TD",{});var le=E(_);p=S(le,c),le.forEach(d),C=k(l),r=m(l,"TD",{});var se=E(r);g=S(se,a),se.forEach(d),t=k(l),b=m(l,"TD",{});var ne=E(b);G=S(ne,H),ne.forEach(d),J=k(l),j=m(l,"TD",{});var ae=E(j);O=S(ae,M),ae.forEach(d),K=k(l),B=m(l,"TD",{});var oe=E(B);U=S(oe,L),oe.forEach(d),Q=k(l),P=m(l,"TD",{});var ie=E(P);W=S(ie,R),ie.forEach(d),X=k(l),N=m(l,"TD",{});var re=E(N);T&&T.l(re),re.forEach(d),Z=k(l),V=m(l,"TD",{});var he=E(V);y=m(he,"A",{href:!0});var ce=E(y);$=S(ce,"View"),ce.forEach(d),he.forEach(d),x=k(l),l.forEach(d),this.h()},h(){z(y,"href",Y="/challenge?id="+o[10].id)},m(u,l){w(u,e,l),s(e,h),s(h,i),s(e,f),s(e,_),s(_,p),s(e,C),s(e,r),s(r,g),s(e,t),s(e,b),s(b,G),s(e,J),s(e,j),s(j,O),s(e,K),s(e,B),s(B,U),s(e,Q),s(e,P),s(P,W),s(e,X),s(e,N),T&&T.m(N,null),s(e,Z),s(e,V),s(V,y),s(y,$),s(e,x)},p(u,l){l&1&&n!==(n=u[10].id+"")&&A(i,n),l&1&&c!==(c=u[10].description+"")&&A(p,c),l&1&&a!==(a=u[10].challengeType+"")&&A(g,a),l&1&&H!==(H=u[10].wager+"")&&A(G,H),l&1&&M!==(M=u[10].challengeState+"")&&A(O,M),l&1&&L!==(L=u[10].fitnessuserId1+"")&&A(U,L),l&1&&R!==(R=u[10].fitnessuserId2+"")&&A(W,R),F!==(F=ee(u))&&(T&&T.d(1),T=F&&F(u),T&&(T.c(),T.m(N,null))),l&1&&Y!==(Y="/challenge?id="+u[10].id)&&z(y,"href",Y)},d(u){u&&d(e),T&&T.d()}}}function Ee(o){let e,h="My Competed Challenges",n,i,f,_='<tr><th scope="col">Challenge ID</th> <th scope="col">Description</th> <th scope="col">Type</th> <th scope="col">Wager</th> <th scope="col">State</th> <th scope="col">Fitnessuser Id1</th> <th scope="col">Fitnessuser Id2</th> <th scope="col">Actions</th> <th scope="col">View Single</th></tr>',c,p,C=de(o[0]),r=[];for(let a=0;a<C.length;a+=1)r[a]=Ce(ve(o,C,a));return{c(){e=v("h1"),e.textContent=h,n=D(),i=v("table"),f=v("thead"),f.innerHTML=_,c=D(),p=v("tbody");for(let a=0;a<r.length;a+=1)r[a].c();this.h()},l(a){e=m(a,"H1",{"data-svelte-h":!0}),q(e)!=="svelte-1ig9409"&&(e.textContent=h),n=k(a),i=m(a,"TABLE",{class:!0});var g=E(i);f=m(g,"THEAD",{"data-svelte-h":!0}),q(f)!=="svelte-1jybdjp"&&(f.innerHTML=_),c=k(g),p=m(g,"TBODY",{});var t=E(p);for(let b=0;b<r.length;b+=1)r[b].l(t);t.forEach(d),g.forEach(d),this.h()},h(){z(i,"class","table")},m(a,g){w(a,e,g),w(a,n,g),w(a,i,g),s(i,f),s(i,c),s(i,p);for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(p,null)},p(a,g){if(g&1){C=de(a[0]);let t;for(t=0;t<C.length;t+=1){const b=ve(a,C,t);r[t]?r[t].p(b,g):(r[t]=Ce(b),r[t].c(),r[t].m(p,null))}for(;t<r.length;t+=1)r[t].d(1);r.length=C.length}},d(a){a&&(d(e),d(n),d(i)),De(r,a)}}}function Me(o){let e,h="Finished";return{c(){e=v("span"),e.textContent=h,this.h()},l(n){e=m(n,"SPAN",{class:!0,"data-svelte-h":!0}),q(e)!=="svelte-1pyhy73"&&(e.textContent=h),this.h()},h(){z(e,"class","badge bg-success")},m(n,i){w(n,e,i)},d(n){n&&d(e)}}}function Be(o){let e,h="Running";return{c(){e=v("span"),e.textContent=h,this.h()},l(n){e=m(n,"SPAN",{class:!0,"data-svelte-h":!0}),q(e)!=="svelte-bkp6rd"&&(e.textContent=h),this.h()},h(){z(e,"class","badge bg-secondary")},m(n,i){w(n,e,i)},d(n){n&&d(e)}}}function Ce(o){let e,h,n=o[10].id+"",i,f,_,c=o[10].description+"",p,C,r,a=o[10].challengeType+"",g,t,b,H=o[10].wager+"",G,J,j,M=o[10].challengeState+"",O,K,B,L=o[10].fitnessuserId1+"",U,Q,P,R=o[10].fitnessuserId2+"",W,X,N,Z,V,y,$,Y,x;function ee(u,l){if(u[10].challengeState==="RUNNING")return Be;if(u[10].challengeState==="FINISHED")return Me}let F=ee(o),T=F&&F(o);return{c(){e=v("tr"),h=v("td"),i=I(n),f=D(),_=v("td"),p=I(c),C=D(),r=v("td"),g=I(a),t=D(),b=v("td"),G=I(H),J=D(),j=v("td"),O=I(M),K=D(),B=v("td"),U=I(L),Q=D(),P=v("td"),W=I(R),X=D(),N=v("td"),T&&T.c(),Z=D(),V=v("td"),y=v("a"),$=I("View"),x=D(),this.h()},l(u){e=m(u,"TR",{});var l=E(e);h=m(l,"TD",{});var te=E(h);i=S(te,n),te.forEach(d),f=k(l),_=m(l,"TD",{});var le=E(_);p=S(le,c),le.forEach(d),C=k(l),r=m(l,"TD",{});var se=E(r);g=S(se,a),se.forEach(d),t=k(l),b=m(l,"TD",{});var ne=E(b);G=S(ne,H),ne.forEach(d),J=k(l),j=m(l,"TD",{});var ae=E(j);O=S(ae,M),ae.forEach(d),K=k(l),B=m(l,"TD",{});var oe=E(B);U=S(oe,L),oe.forEach(d),Q=k(l),P=m(l,"TD",{});var ie=E(P);W=S(ie,R),ie.forEach(d),X=k(l),N=m(l,"TD",{});var re=E(N);T&&T.l(re),re.forEach(d),Z=k(l),V=m(l,"TD",{});var he=E(V);y=m(he,"A",{href:!0});var ce=E(y);$=S(ce,"View"),ce.forEach(d),he.forEach(d),x=k(l),l.forEach(d),this.h()},h(){z(y,"href",Y="/challenge?id="+o[10].id)},m(u,l){w(u,e,l),s(e,h),s(h,i),s(e,f),s(e,_),s(_,p),s(e,C),s(e,r),s(r,g),s(e,t),s(e,b),s(b,G),s(e,J),s(e,j),s(j,O),s(e,K),s(e,B),s(B,U),s(e,Q),s(e,P),s(P,W),s(e,X),s(e,N),T&&T.m(N,null),s(e,Z),s(e,V),s(V,y),s(y,$),s(e,x)},p(u,l){l&1&&n!==(n=u[10].id+"")&&A(i,n),l&1&&c!==(c=u[10].description+"")&&A(p,c),l&1&&a!==(a=u[10].challengeType+"")&&A(g,a),l&1&&H!==(H=u[10].wager+"")&&A(G,H),l&1&&M!==(M=u[10].challengeState+"")&&A(O,M),l&1&&L!==(L=u[10].fitnessuserId1+"")&&A(U,L),l&1&&R!==(R=u[10].fitnessuserId2+"")&&A(W,R),F!==(F=ee(u))&&(T&&T.d(1),T=F&&F(u),T&&(T.c(),T.m(N,null))),l&1&&Y!==(Y="/challenge?id="+u[10].id)&&z(y,"href",Y)},d(u){u&&d(e),T&&T.d()}}}function Le(o){let e=o[1]&&o[2].user_roles&&o[2].user_roles.includes("fitnesscoach"),h,n=o[1]&&o[2].user_roles&&o[2].user_roles.includes("fitnessuser"),i,f=e&&be(o),_=n&&Ee(o);return{c(){f&&f.c(),h=D(),_&&_.c(),i=_e()},l(c){f&&f.l(c),h=k(c),_&&_.l(c),i=_e()},m(c,p){f&&f.m(c,p),w(c,h,p),_&&_.m(c,p),w(c,i,p)},p(c,[p]){p&6&&(e=c[1]&&c[2].user_roles&&c[2].user_roles.includes("fitnesscoach")),e?f?f.p(c,p):(f=be(c),f.c(),f.m(h.parentNode,h)):f&&(f.d(1),f=null),p&6&&(n=c[1]&&c[2].user_roles&&c[2].user_roles.includes("fitnessuser")),n?_?_.p(c,p):(_=Ee(c),_.c(),_.m(i.parentNode,i)):_&&(_.d(1),_=null)},i:ue,o:ue,d(c){c&&(d(h),d(i)),f&&f.d(c),_&&_.d(c)}}}function Pe(o,e,h){let n,i,f,_,c;fe(o,pe,t=>h(6,n=t)),fe(o,we,t=>h(3,i=t)),fe(o,Ae,t=>h(4,f=t)),fe(o,Ne,t=>h(1,_=t)),fe(o,Fe,t=>h(2,c=t));const p=f.url.origin;let C,r=[];function a(){var t={method:"get",url:p+"/api/challenge/fitness/"+C,headers:{Authorization:"Bearer "+i}};ge(t).then(function(b){h(0,r=b.data)}).catch(function(b){alert("Could not get challenges"),console.log(b)})}function g(){var t={method:"get",url:p+"/api/service/me/myinfo",headers:{Authorization:"Bearer "+i}};ge(t).then(function(b){Ie(pe,n=b.data.id,n)}).catch(function(b){alert("Could not get fitnessuser id"),console.log(b)})}return o.$$.update=()=>{o.$$.dirty&24&&(C=f.url.searchParams.get("id"),i!==""&&g(),a())},[r,_,c,i,f]}class Ue extends Se{constructor(e){super(),ye(this,e,Pe,Le,ke,{})}}export{Ue as component};
