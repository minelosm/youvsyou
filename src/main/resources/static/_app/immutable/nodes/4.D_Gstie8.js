import{s as lt,n as J,c as O,o as st,b as at,r as it}from"../chunks/scheduler.ChOpgImw.js";import{S as nt,i as rt,s as A,m as Z,f as I,g as b,d as u,e as p,c as d,k as L,a as q,l as t,h as g,n as j,o as W}from"../chunks/index.D2iMMSY1.js";import{p as ut}from"../chunks/stores.CWPlaEI4.js";import{j as ot,u as ft,m as $,i as ct,a as tt}from"../chunks/store.BW9bcFzt.js";import{g as ht}from"../chunks/entry.BQKTyZhp.js";function et(c){let a,h="Fullfillment Account Details",l,s,o,n="Email address",e,r,k,x,y,w,V="Username",U,v,_,C,D,H="Edit Changes";return{c(){a=p("h2"),a.textContent=h,l=A(),s=p("div"),o=p("label"),o.textContent=n,e=A(),r=p("input"),x=A(),y=p("div"),w=p("label"),w.textContent=V,U=A(),v=p("textarea"),C=A(),D=p("button"),D.textContent=H,this.h()},l(m){a=d(m,"H2",{"data-svelte-h":!0}),L(a)!=="svelte-112y4r3"&&(a.textContent=h),l=I(m),s=d(m,"DIV",{class:!0});var f=q(s);o=d(f,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),L(o)!=="svelte-4w1dqu"&&(o.textContent=n),e=I(f),r=d(f,"INPUT",{type:!0,class:!0,id:!0,placeholder:!0}),f.forEach(u),x=I(m),y=d(m,"DIV",{class:!0});var N=q(y);w=d(N,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),L(w)!=="svelte-1f7p7ai"&&(w.textContent=V),U=I(N),v=d(N,"TEXTAREA",{class:!0,id:!0,rows:!0}),q(v).forEach(u),N.forEach(u),C=I(m),D=d(m,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),L(D)!=="svelte-1bns14u"&&(D.textContent=H),this.h()},h(){t(o,"for","email"),t(o,"class","form-label"),t(r,"type","email"),t(r,"class","form-control"),t(r,"id","email"),t(r,"placeholder",k=c[2].email),r.readOnly=!0,t(s,"class","mb-3"),t(w,"for","username"),t(w,"class","form-label"),t(v,"class","form-control"),t(v,"id","username"),t(v,"rows","3"),v.value=_=c[2].username,t(y,"class","mb-3"),t(D,"type","submit"),t(D,"class","btn btn-primary")},m(m,f){b(m,a,f),b(m,l,f),b(m,s,f),g(s,o),g(s,e),g(s,r),b(m,x,f),b(m,y,f),g(y,w),g(y,U),g(y,v),b(m,C,f),b(m,D,f)},p(m,f){f&4&&k!==(k=m[2].email)&&t(r,"placeholder",k),f&4&&_!==(_=m[2].username)&&(v.value=_)},d(m){m&&(u(a),u(l),u(s),u(x),u(y),u(C),u(D))}}}function mt(c){let a,h="Can't edit account",l,s,o="Account was already edited";return{c(){a=p("h1"),a.textContent=h,l=A(),s=p("p"),s.textContent=o},l(n){a=d(n,"H1",{"data-svelte-h":!0}),L(a)!=="svelte-1lukqlw"&&(a.textContent=h),l=I(n),s=d(n,"P",{"data-svelte-h":!0}),L(s)!=="svelte-1yh1w61"&&(s.textContent=o)},m(n,e){b(n,a,e),b(n,l,e),b(n,s,e)},p:J,d(n){n&&(u(a),u(l),u(s))}}}function pt(c){let a,h="Fullfillment Account Details",l,s,o,n="Email address",e,r,k,x,y,w,V="Birth Date",U,v,_,C,D,H="Height",m,f,N,F,P,K="Weight",X,B,z,T,Q="Edit Changes",G,Y;return{c(){a=p("h2"),a.textContent=h,l=A(),s=p("div"),o=p("label"),o.textContent=n,e=A(),r=p("input"),x=A(),y=p("div"),w=p("label"),w.textContent=V,U=A(),v=p("input"),_=A(),C=p("div"),D=p("label"),D.textContent=H,m=A(),f=p("input"),N=A(),F=p("div"),P=p("label"),P.textContent=K,X=A(),B=p("input"),z=A(),T=p("button"),T.textContent=Q,this.h()},l(i){a=d(i,"H2",{"data-svelte-h":!0}),L(a)!=="svelte-112y4r3"&&(a.textContent=h),l=I(i),s=d(i,"DIV",{class:!0});var E=q(s);o=d(E,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),L(o)!=="svelte-4w1dqu"&&(o.textContent=n),e=I(E),r=d(E,"INPUT",{type:!0,class:!0,placeholder:!0}),E.forEach(u),x=I(i),y=d(i,"DIV",{class:!0});var M=q(y);w=d(M,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),L(w)!=="svelte-5hvy9q"&&(w.textContent=V),U=I(M),v=d(M,"INPUT",{type:!0,name:!0,class:!0,id:!0}),M.forEach(u),_=I(i),C=d(i,"DIV",{class:!0});var S=q(C);D=d(S,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),L(D)!=="svelte-1gaa7bo"&&(D.textContent=H),m=I(S),f=d(S,"INPUT",{type:!0,name:!0,class:!0,id:!0}),S.forEach(u),N=I(i),F=d(i,"DIV",{class:!0});var R=q(F);P=d(R,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),L(P)!=="svelte-zvvr2a"&&(P.textContent=K),X=I(R),B=d(R,"INPUT",{type:!0,name:!0,class:!0,id:!0}),R.forEach(u),z=I(i),T=d(i,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),L(T)!=="svelte-4j2vnl"&&(T.textContent=Q),this.h()},h(){t(o,"for","email"),t(o,"class","form-label"),t(r,"type","email"),t(r,"class","form-control"),t(r,"placeholder",k=c[2].email),r.readOnly=!0,t(s,"class","mb-3"),t(w,"for","birthDate"),t(w,"class","form-label"),t(v,"type","text"),t(v,"name","birthDate"),t(v,"class","form-control"),t(v,"id","birthDate"),t(y,"class","mb-3"),t(D,"for","height"),t(D,"class","form-label"),t(f,"type","text"),t(f,"name","height"),t(f,"class","form-control"),t(f,"id","height"),t(C,"class","mb-3"),t(P,"for","weight"),t(P,"class","form-label"),t(B,"type","text"),t(B,"name","weight"),t(B,"class","form-control"),t(B,"id","weight"),t(F,"class","mb-3"),t(T,"type","button"),t(T,"class","btn btn-primary")},m(i,E){b(i,a,E),b(i,l,E),b(i,s,E),g(s,o),g(s,e),g(s,r),b(i,x,E),b(i,y,E),g(y,w),g(y,U),g(y,v),j(v,c[1].birthDate),b(i,_,E),b(i,C,E),g(C,D),g(C,m),g(C,f),j(f,c[1].height),b(i,N,E),b(i,F,E),g(F,P),g(F,X),g(F,B),j(B,c[1].weight),b(i,z,E),b(i,T,E),G||(Y=[W(v,"input",c[5]),W(f,"input",c[6]),W(B,"input",c[7]),W(T,"click",c[4])],G=!0)},p(i,E){E&4&&k!==(k=i[2].email)&&t(r,"placeholder",k),E&2&&v.value!==i[1].birthDate&&j(v,i[1].birthDate),E&2&&f.value!==i[1].height&&j(f,i[1].height),E&2&&B.value!==i[1].weight&&j(B,i[1].weight)},d(i){i&&(u(a),u(l),u(s),u(x),u(y),u(_),u(C),u(N),u(F),u(z),u(T)),G=!1,it(Y)}}}function dt(c){let a,h,l=c[3]&&c[2].user_roles==="fitnesscoach"&&et(c);function s(e,r){return e[3]&&e[2].user_roles=="fitnessuser"&&e[0].birthDate==null?pt:mt}let o=s(c),n=o(c);return{c(){l&&l.c(),a=A(),n.c(),h=Z()},l(e){l&&l.l(e),a=I(e),n.l(e),h=Z()},m(e,r){l&&l.m(e,r),b(e,a,r),n.m(e,r),b(e,h,r)},p(e,[r]){e[3]&&e[2].user_roles==="fitnesscoach"?l?l.p(e,r):(l=et(e),l.c(),l.m(a.parentNode,a)):l&&(l.d(1),l=null),o===(o=s(e))&&n?n.p(e,r):(n.d(1),n=o(e),n&&(n.c(),n.m(h.parentNode,h)))},i:J,o:J,d(e){e&&(u(a),u(h)),l&&l.d(e),n.d(e)}}}function vt(c,a,h){let l,s,o,n,e;O(c,ot,_=>h(8,l=_)),O(c,ft,_=>h(2,s=_)),O(c,$,_=>h(9,o=_)),O(c,ut,_=>h(10,n=_)),O(c,ct,_=>h(3,e=_));const r=n.url.origin;let k={id:null,email:s.email,name:null,birthDate:null,height:null,weight:null},x={email:s.email,birthDate:null,height:null,weight:null};st(()=>{l!==""&&y()});function y(){var _={method:"get",url:r+"/api/service/me/myinfo",headers:{Authorization:"Bearer "+l}};tt(_).then(function(C){at($,o=C.data.id,o),h(0,k=C.data)}).catch(function(C){alert("Could not get fitnessuser id"),console.log(C)})}function w(){var _={method:"put",url:r+"/api/fitnessuser/edit/"+s.email,headers:{Authorization:"Bearer "+l},data:x};tt(_).then(function(C){alert("User Information edited successfully"),ht("/account")}).catch(function(C){alert("Error editing user information"),console.log(C)})}function V(){x.birthDate=this.value,h(1,x)}function U(){x.height=this.value,h(1,x)}function v(){x.weight=this.value,h(1,x)}return[k,x,s,e,w,V,U,v]}class wt extends nt{constructor(a){super(),rt(this,a,vt,dt,lt,{})}}export{wt as component};
